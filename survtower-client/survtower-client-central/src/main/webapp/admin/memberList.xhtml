<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    template="../WEB-INF/template/DefaultTemplate.xhtml">

    <ui:define name="title">
        Member List
    </ui:define>

    <ui:define name="content">
        <p:layout>
            <p:layoutUnit class="menu" position="center">
                <p:panel class="panel" header="Member States">
                    <p:dataTable value="#{memberListController.members}" var="member">

                        <p:column headerText="Logo">
                            <h:graphicImage width="60" height="30" library="webjars/sadc/1.0.0/img"
                                            name="#{member.logo}" />
                        </p:column>

                        <p:column headerText="Name">
                            <h:form>
                                <h:link value="#{member.name}" outcome="memberView">
                                    <f:param name="uuid" value="#{member.uuid}" />
                                </h:link>
                            </h:form>
                        </p:column>

                        <p:column headerText="Description">
                            #{member.description}
                        </p:column>

                    </p:dataTable>
                    <br/>
                    <h:form>
                        <p:commandButton icon="ui-icon-plus" value="New Member" ajax="false" action="memberEdit?faces-redirect=true" immediate="true" ></p:commandButton>
                        <p:commandButton icon="ui-icon-back" value="Back To Settings" action="index?faces-redirect=true" immediate="true" ></p:commandButton>
                    </h:form>
                </p:panel>
            </p:layoutUnit>

            <p:layoutUnit class="menu" position="east">
                <h:graphicImage width="400" library="webjars/sadc/1.0.0/img"
                                name="SADC_Member_States_lowres.jpg" />
            </p:layoutUnit>
        </p:layout>
    </ui:define>
</ui:composition>
